# Feature specification for a dialog to support setting page categories

## Basic idea.

Each page in Composum Pages can be given a list of categories (= keywords), mainly for SEO use. (It is rendered as
`<meta name="keywords" content="nodes,category1,category2">` in the page.) The categories can be set in the page
properties
dialog, where there is an extensible number of textfields which the user can type in categories and reorder the list.

To streamline this process, this feature utilizes the AI capabilities of ChatGPT to suggest categories.
Upon opening a dialog, the user will be presented with category suggestions generated by ChatGPT, which analyzes the
page's text content. This feature provides intelligent recommendations, minimizing the need for manual category input
and enhancing the page's SEO potential.

There are two basic use cases which have to be supported. The user might have created a new page and want to set
categories for it. But the user might already have set some categories, edited the page and now want to update the
categories.

## Basic implementation decisions

- To keep things simple, we ignore existing categories and just display the suggestions ChatGPT creates. The user
  can then choose to add these new categories, or to replace the whole category set.
- The request to ChatGPT is triggered upon opening the dialog, but there must be an indication of the loading status,
  as this could take a while.

## Out of scope

- We do not implement autocomplete, since that'd require many requests to ChatGPT which do cost a little money.
- In the new dialog, we do not support manually adding, editing or changing categories or reordering, as this can be
  done in the existing dialog.

## User Workflow

To support the dialog design let's see some typical user workflows. Here are some likely use cases for the feature:

1. **New Page Creation:**
    - The user creates a new page and adds content to it.
    - The user opens the ChatGPT-based dialog to generate category suggestions.
    - ChatGPT analyzes the page's content and provides a list of suggested categories.
    - The user selects the desired categories from the list, adds them to the page, and saves the changes.

2. **Updating Categories for an Existing Page:**
    - The user opens an existing page with pre-set categories and edits the content.
    - The user opens the ChatGPT-based dialog to generate new category suggestions based on the updated content.
    - ChatGPT analyzes the page's content and provides a list of suggested categories.
    - The user selects the desired categories from the list, either adding them to the existing categories or replacing
      the existing categories entirely.
    - The user saves the changes to the page.

## Dialog layout

Please create a HTML table as a raw HTML fragment in Github markdown, that shows this dialog design as a wireframe.
Only the following HTML elements are permitted: h1, h2, h3, h4, h5, h6, br, b, i, strong, em, a, img, div, p, ol, ul,
li, table, thead, tbody, tfoot, tr, td, th, caption, blockquote, dl, dt, dd, hr, summary, details, figure,
figcaption, abbr, cite, mark, small, span, time.
The elements button, input, textarea, select and option are explicitly forbidden - their appearence has to be
approximated using other elements.
Only the following attributes of HTML elements are permitted: accept, align, alt, aria-describedby, aria-hidden,
aria-label, aria-labelledby, border, charset, checked, cols, colspan, coords, datetime, dir, disabled, for, headers,
height, hreflang, id, label, lang, maxlength, media, method, name, open, readonly, rel, role, rows, rowspan, selected,
shape, size, span, src, start, summary, tabindex, title, type, value, width.
CSS and the style attribute is forbidden, and all
Visibly render the dialog frame and internal frames and dividers, e.g. with nested tables with a border.
Use the align and valign attributes for alignments.
Render icons like e.g. [X] for the close icon, without showing their names.
The names of groups and subgroups should not be shown, only labels that should appear in the fully
implemented dialog.
For the elements like buttons, input fields, text areas etc. you should use the corresponding HTML elements as far
as permitted.
The dialog should look as closely as possible to the fully implemented dialog, while observing these conditions.
After discussion of the layout output a single code block with the HTML with the table element, no
surrounding HTML or BODY tag. No discussion after the HTML block.

<table border="1" width="400">
  <tr>
    <td align="right">
      [X]
    </td>
  </tr>
  <tr>
    <td align="center">
      <b>Set Page Categories</b>
    </td>
  </tr>
  <tr>
    <td>
      <b>Page Content:</b> <br>
      <textarea rows="4" cols="50" disabled></textarea>
    </td>
  </tr>
  <tr>
    <td>
      <b>Current Categories:</b> <br>
      <textarea rows="2" cols="50" disabled></textarea>
    </td>
  </tr>
  <tr>
    <td>
      <b>ChatGPT Suggested Categories:</b> <br>
      <table border="1">
        <tr>
          <td><input type="checkbox"></td>
          <td>Category 1</td>
        </tr>
        <tr>
          <td><input type="checkbox"></td>
          <td>Category 2</td>
        </tr>
        <!-- More rows as needed for additional categories -->
      </table>
    </td>
  </tr>
  <tr>
    <td align="center">
      <button type="button">Add Selected Categories</button>
      <button type="button">Replace with Selected Categories</button>
    </td>
  </tr>
</table>

## Possible extensions

- Give ChatGPT a list of categories that were used in the site to filter them, since those are likely suggestions.
- Save user defined categories? -> probably the previous suggestion is better and easier, too.
- Blacklist suggestions.
- When the user opens the page dialog, we could have ChatGPT send us a very long list of suggestions and use that
  for autocomplete as the user types.
- Integration with external SEO tools?
- Statistics for categories, page lists for each category etc.
